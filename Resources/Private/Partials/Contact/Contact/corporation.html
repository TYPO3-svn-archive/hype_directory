{namespace h=Tx_Hype_ViewHelpers}

<div class="contact contact_corporation vcard">
	<h1 class="n">{contact.corporateName}</h1>
	
	<f:if condition="{contact.images.0}">
		<p class="images"><f:image src="{settings.object.contact.field.images.path}{contact.images.0}" class="photo" width="{settings.view.contact.action.index.field.images.width}" height="{settings.view.contact.action.index.field.images.height}" maxWidth="{settings.view.contact.action.index.field.images.maxWidth}" maxHeight="{settings.view.contact.action.index.field.images.maxHeight}" alt="{contact.name}" /></p>
	</f:if>
	
	<p class="adr">
		<f:if condition="{contact.street}">
			<span class="street-address">{contact.street}</span><f:if condition="{contact.door}">/{contact.door}</f:if><f:if condition="{contact.stair}">, {f:translate(key: 'stair')} {contact.stair}</f:if><f:if condition="{contact.floor}">, {f:translate(key: 'floor')} {contact.floor}</f:if><br />
		</f:if>
		
		<f:if condition="{contact.postalCode}"><span class="postal-code">{contact.postalCode}</span></f:if>
		<f:if condition="{contact.city}">
			<span class="locality">{contact.city}</span><f:if condition="{contact.country}">, <span class="country-name">{contact.country.shortEnglishName}</span></f:if><f:if condition="{contact.state}"> ({contact.state.localName})</f:if>
		</f:if>
	</p>
	
	<dl class="data">
		<f:if condition="{contact.telephoneNumber}">
			<dt class="telephone">{f:translate(key: 'phone_number')}</dt>
			<dd class="telephone tel">{h:format.telephoneNumber(telephoneNumber: '{contact.telephoneNumber}', countryCode: '{contact.telephoneCountry.countryCode}', areaCode: '{contact.telephoneAreaCode}', directDialNumber: '{contact.telephoneExtension}', segmentLength: 2)}</dd>
		</f:if>
		
		<f:if condition="{contact.faxNumber}">
			<dt class="fax_number">{f:translate(key: 'fax_number')}</dt>
			<dd class="fax_number">{h:format.telephoneNumber(telephoneNumber: '{contact.faxNumber}', countryCode: '{contact.faxCountry.countryCode}', areaCode: '{contact.faxAreaCode}', directDialNumber: '{contact.faxExtension}', segmentLength: 2)}</dd>
		</f:if>
		
		<f:if condition="{contact.cellphoneNumber}">
			<dt class="cellphone_number">{f:translate(key: 'cellphone_number')}</dt>
			<dd class="cellphone_number">{h:format.telephoneNumber(telephoneNumber: '{contact.cellphoneNumber}', countryCode: '{contact.cellphoneCountry.countryCode}', areaCode: '{contact.cellphoneAreaCode}', segmentLength: 4)}</dd>
		</f:if>
		
		<f:if condition="{contact.email}">
			<dt class="email">{f:translate(key: 'email')}</dt>
			<dd class="email"><f:link.email email="{contact.email}" class="email" title="{contact.email}">{contact.email}</f:link.email></dd>
		</f:if>
		
		<f:if condition="{contact.website}">
			<dt class="website">{f:translate(key: 'website')}</dt>
			<dd class="website url"><f:link.external uri="{contact.website}">{contact.website}</f:link.external></dd>
		</f:if>
	</dl>
	
	<p class="relations">
		<f:if condition="{contact.relatedPage}"><f:link.page pageUid="{contact.relatedPage}">{f:translate(key: 'more_information_about', arguments: {0: contact.completeName})}</f:link.page><br /></f:if>
		<f:if condition="{contact.relatedAddress}"><f:link.external uri="{contact.relatedAddress}">{f:translate(key: 'further_information_about', arguments: {0: contact.completeName})}</f:link.external><br /></f:if>
	</p>
</div>